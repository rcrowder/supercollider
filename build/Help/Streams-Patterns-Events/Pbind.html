<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<title></title>
<meta name="Generator" content="Cocoa HTML Writer">
<meta name="CocoaVersion" content="824.48">
<style type="text/css">
p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px Helvetica; min-height: 22.0px}
p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Helvetica}
p.p5 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 9.0px Monaco; min-height: 12.0px}
p.p6 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 12.0px Helvetica}
p.p7 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 12.0px Helvetica; min-height: 14.0px}
p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; color: #000000}
p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; color: #bf0000}
p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; color: #0000bf}
p.p11 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; color: #000000; min-height: 14.0px}
p.p12 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; color: #007300}
p.p13 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 14.0px Helvetica}
p.p14 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; min-height: 12.0px}
p.p15 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #000000}
p.p16 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #000000; min-height: 12.0px}
p.p17 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #007300}
p.p18 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #bf0000}
p.p19 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco}
p.p20 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #5e3a21; min-height: 12.0px}
p.p21 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #0000bf}
span.s1 {font: 18.0px Helvetica}
span.s2 {color: #000000}
span.s3 {color: #606060}
span.s4 {color: #0000bf}
span.s5 {color: #007300}
span.s6 {color: #bf0000}
span.s7 {color: #0016ff}
span.s8 {color: #0000ff}
span.s9 {color: #003aff}
span.Apple-tab-span {white-space:pre}
</style>
</head>
<body>
<p class="p1"><span class="s1"><b>Pbind<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b></span><b>Pbind defines streams of Events by "binding" patterns to keys (or sets of keys) in the Event</b></p>
<p class="p2"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p1"><b>Inherits from: Object : AbstractFunction : Pattern</b></p>
<p class="p3"><br></p>
<p class="p1"><b>Pbind</b> works with the classes <b>SynthDef </b>and <b>Event </b>and the rest of the <b>Pattern </b>Library to form one of Supercollider's basic score language facilities. ( See <b>SynthDef and Event</b> below for a brief discussion of both in relation to Pbind.)</p>
<p class="p3"><br></p>
<p class="p1"><b>Pbind </b>specifies a stream of <b>Events</b> in terms of different<span class="Apple-converted-space">  </span>patterns<i> </i>that are <b>bound </b>to different keys in the Event.</p>
<p class="p1">The patterns bound to keys are referred to as <i>value patterns</i> and the Pbind itself is termed an <i>event pattern.</i></p>
<p class="p3"><br></p>
<p class="p1">The keys used in a Pbind are usually determined by <b>Event's</b> default mechanism and the controls defined for the <b>SynthDef</b> to be played.<span class="Apple-converted-space">  </span>Consult the <b>SynthDef and Event</b> section below for details.</p>
<p class="p3"><span class="Apple-tab-span">	</span></p>
<p class="p4"><b>Creation / Class Methods</b></p>
<p class="p5"><br></p>
<p class="p6"><b><span class="Apple-tab-span">	</span>*new (key1, pattern1, key2, pattern2 ...)</b></p>
<p class="p6"><b><span class="Apple-tab-span">	</span></b><span class="Apple-tab-span">	</span>The arguments to Pbind are an alternating sequence of keys and patterns.</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>A pattern can also be bount to an array of keys.<span class="Apple-converted-space">  </span>In this case, the pattern must specify</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a sequence whose elements are arrays with at least as many elements as there are keys.</p>
<p class="p3"><br></p>
<p class="p1"><b>Examples</b></p>
<p class="p7"><br></p>
<p class="p8">(</p>
<p class="p9"><span class="s2"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b></span><b>// A SynthDef</b></p>
<p class="p10"><span class="s2"><span class="Apple-tab-span">	</span><b><span class="Apple-tab-span">	</span></b></span><b>SynthDef</b><span class="s2"><b>( </b></span><span class="s3"><b>"test"</b></span><span class="s2"><b>, { </b></span><b>| out, freq = 440, amp = 0.1, nharms = 10, pan = 0, gate = 1 |</b></p>
<p class="p8"><span class="Apple-tab-span">	</span><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b><span class="s4"><b>var</b></span><b> audio = </b><span class="s4"><b>Blip</b></span><b>.ar(freq, nharms, amp);</b></p>
<p class="p8"><span class="Apple-tab-span">	</span><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b><span class="s4"><b>var</b></span><b> env = </b><span class="s4"><b>Linen</b></span><b>.kr(gate, doneAction: 2);</b></p>
<p class="p8"><span class="Apple-tab-span">	</span><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b><span class="s4"><b>OffsetOut</b></span><b>.ar(out, </b><span class="s4"><b>Pan2</b></span><b>.ar(audio, pan, env) );</b></p>
<p class="p8"><span class="Apple-tab-span">	</span><b><span class="Apple-tab-span">	</span>}).memStore;</b></p>
<p class="p11"><span class="Apple-tab-span">	</span></p>
<p class="p11"><br></p>
<p class="p9">//<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>standard syntax, arguments alternate symbols and patterns</p>
<p class="p10"><span class="s2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><b>Pbind</b><span class="s2"><b>(</b></span></p>
<p class="p12"><span class="s2"><span class="Apple-tab-span">	</span><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b></span><b>\instrument</b><span class="s2"><b>,<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b></span><b>\test</b><span class="s2"><b>,</b></span></p>
<p class="p8"><span class="Apple-tab-span">	</span><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b><span class="s5"><b>\nharms</b></span><b>,<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b><span class="s4"><b>Pseq</b></span><b>([4,10,40], </b><span class="s4"><b>inf</b></span><b>),</b></p>
<p class="p8"><span class="Apple-tab-span">	</span><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b><span class="s5"><b>\dur</b></span><b>,<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b><span class="s4"><b>Pseq</b></span><b>([1,1,2,1]/10,</b><span class="s4"><b>inf</b></span><b>)</b>,</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>#[freq, sustain],<span class="Apple-converted-space">  <span class="Apple-tab-span">	</span></span></b><span class="s4"><b>Ptuple</b></span><b>([<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b><span class="s6"><b>// assignment to multiple keys</b></span></p>
<p class="p8"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b><span class="s4"><b>Pseq</b></span><b>( (1..16) * 50, 4),</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b><span class="s4"><b>Pseq</b></span><b>([1/10, 0.5, 1, 2],</b><span class="s4"><b>inf</b></span><b>)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>])<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b></p>
<p class="p8"><span class="Apple-tab-span">	</span><b><span class="Apple-tab-span">	</span>).play</b></p>
<p class="p11"><br></p>
<p class="p8">)</p>
<p class="p3"><br></p>
<p class="p1">It is possible to specify a Pbind with an Array preceded by <b>*</b>. Arrays treat identifiers ending with a colon as Symbols, making the syntax of the Pbind specification a bit more concise:</p>
<p class="p3"><br></p>
<p class="p8">(</p>
<p class="p9">//<span class="Apple-tab-span">	</span>Alternative syntax, using a key/pattern array:</p>
<p class="p11"><br></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s4"><b>Pbind</b></span><b>(*[</b></p>
<p class="p8"><span class="Apple-tab-span">	</span><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>instrument:<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b><span class="s5"><b>\test</b></span><b>,</b></p>
<p class="p8"><span class="Apple-tab-span">	</span><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>nharms:<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b><span class="s4"><b>Pseq</b></span><b>([4,10,40], </b><span class="s4"><b>inf</b></span><b>),</b></p>
<p class="p8"><span class="Apple-tab-span">	</span><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>dur:<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b><span class="s4"><b>Pseq</b></span><b>([1,1,2,1]/10,</b><span class="s4"><b>inf</b></span><b>)</b>,</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>#[freq, sustain],<span class="Apple-converted-space">  <span class="Apple-tab-span">	</span></span></b><span class="s4"><b>Ptuple</b></span><b>([</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b><span class="s4"><b>Pseq</b></span><b>( (1..16) * 50, 4),</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b><span class="s4"><b>Pseq</b></span><b>([1/10, 0.5, 1, 2],</b><span class="s4"><b>inf</b></span><b>)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>]),<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b></p>
<p class="p8"><span class="Apple-tab-span">	</span><b><span class="Apple-tab-span">	</span>]).play</b></p>
<p class="p8">)</p>
<p class="p3"><br></p>
<p class="p13"><b>SynthDef and Event</b></p>
<p class="p3"><br></p>
<p class="p1">The keys used in a Pbind are determined by the <b>SynthDef </b>used and the structure of the extensive default mechanism provided by <b>Event. </b>This section provides a brief review of both.</p>
<p class="p3"><br></p>
<p class="p1">A <b>SynthDef</b> assigns a name to an interconnection of unit generators to be run as a synth on a server. It also assigns <b>control</b> <b>names</b> to the synth's control inputs. In the following example the SynthDef <b>"test" </b>has control inputs <b>out, freq, amp, nharms, pan, </b>and <b>gate</b>. <span class="Apple-converted-space"> </span></p>
<p class="p3"><br></p>
<p class="p10"><span class="s2"><span class="Apple-tab-span">	</span></span>SynthDef<span class="s2">( </span><span class="s3">"test"</span><span class="s2">, { </span>| out, freq = 440, amp = 0.1, nharms = 10, pan = 0, gate = 1 |</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s4">var</span> audio = <span class="s4">Blip</span>.ar(freq, nharms, amp);</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s4">var</span> env = <span class="s4">Linen</span>.kr(gate, doneAction: 2);</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s4">OffsetOut</span>.ar(out, <span class="s4">Pan2</span>.ar(audio, pan, env) );</p>
<p class="p8"><span class="Apple-tab-span">	</span>}).memStore;</p>
<p class="p3"><span class="Apple-tab-span">	</span></p>
<p class="p1">The SynthDef needs to be downloaded to the server upon which it is to be run. Use <b>.memStore</b> instead of .send to ensure that any patterns using this SynthDef have information about the available control inputs (see <a href="../ServerArchitecture/SynthDesc.html"><span class="s7">SynthDesc</span></a>). Alternately, <b>.store</b> may be used to save the SynthDef to disk and add the SynthDesc to the library.</p>
<p class="p3"><br></p>
<p class="p1">An <b>Event</b> is a Dictionary that specifies an action to be taken in response to <b>play </b>and a time increment to be returned in response to <b>delta</b>. Events can be written as a series of key value pairs enclosed in parentheses.<span class="Apple-converted-space">  </span>Empty parentheses<span class="Apple-converted-space">  </span>create an empty event.<span class="Apple-converted-space"> </span></p>
<p class="p3"><br></p>
<p class="p1">By default, Events play synths on a server. Such <i>note events</i> use the following keys:</p>
<p class="p3"><br></p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>instrument <span class="Apple-tab-span">	</span>(\default)<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>The synthdef to be played</p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>variant<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(nil, optional)</b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>The set of variant control defaults to use (see <a href="../ServerArchitecture/SynthDef.html"><span class="s8">SynthDef</span></a> help)</p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>server<span class="Apple-tab-span">	</span></b><span class="Apple-tab-span">	</span>(<b>Server.default</b>)<span class="Apple-tab-span">	</span>The server that plays the synth<span class="Apple-converted-space"> <span class="Apple-tab-span">	</span></span></p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>group<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>( 1</b>)<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>The new synth's or the synth the new synth is placed before or after</p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>addAction<span class="Apple-tab-span">	</span>(0)<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>How the synth is placed relative to the target specified by <b>group</b></p>
<p class="p1"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>0 -&gt; head of group</b></p>
<p class="p1"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>1 -&gt; tail of group</b></p>
<p class="p1"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>2 -&gt; before group (could be a Synth)</b></p>
<p class="p1"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>3 -&gt; after group (could be a Synth)</b></p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>delta<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(function)<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>The time until the next event in a sequence of events, generally specified</p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>indirectly through <b>dur</b></p>
<p class="p3"><br></p>
<p class="p1">When the Event is played, it creates an OSC command to play a synth.<span class="Apple-converted-space">  </span>It uses the name assigned to <b>instrument<span class="Apple-converted-space"> </span></b> to the select the SynthDef to be played. The SynthDef's control names (found in its SynthDesc) are looked up in the event and the corresponding values included in the command.</p>
<p class="p3"><br></p>
<p class="p1">Playing a synth is the normal action taken by an Event. The default event structure defines several other event types that can perform a wide variety of server actions. See the <a href="../Collections/Event.html"><span class="s8">Event</span></a> help file for a list of event types.</p>
<p class="p3"><br></p>
<p class="p1">There are a number of coventional names typically used to identify controls in a synth.</p>
<p class="p3"><span class="Apple-converted-space"> </span></p>
<p class="p1"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>out<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>output bus index</p>
<p class="p1"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>in<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>input bus index<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(for filters, modulators, etc)</p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>gate<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>envelope gate (not level!) - should default to 1.0, deletes synth when released</p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>trig<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>envelope gate (not level!) - should default to 1.0, does not delete synth when released</p>
<p class="p1"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>pan<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>panning position</p>
<p class="p1"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>bufnum<span class="Apple-tab-span">	</span></b>buffer number (used in synths that utilize PlayBuf, DiskIn, etc)</p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>sustain<span class="Apple-tab-span">	</span></b>duration of the synth</p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>amp<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>amplitude of the synth</p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>freq<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>base pitch of the synth</p>
<p class="p3"><br></p>
<p class="p1">Event implements a layered specification scheme for some of these controls.<span class="Apple-converted-space">  </span>In the following list, the first and leftmost name is the actual control name, names below and indented are more abstract ways to specify the control.</p>
<p class="p3"><br></p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>delta<span class="Apple-tab-span">	</span></b>The time until the next event.<span class="Apple-converted-space">  </span>Generally determined by:</p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>dur<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>The time until next event in a sequence of events</p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>stretch<span class="Apple-tab-span">	</span></b>Scales event timings (i.e. stretch == 2 =&gt; durations are twice as long)</p>
<p class="p3"><br></p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>sustain<span class="Apple-tab-span">	</span></b>Duration of the synth, typically determined (in stretched time units) by:<span class="Apple-tab-span">	</span></p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>legato<span class="Apple-tab-span">	</span></b>The ratio of the synth's duration to the event's duration</p>
<p class="p3"><br></p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>amp<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>synth amplitude (typically ranging from 0 to 1), often determined by</p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>db<span class="Apple-tab-span">	</span></b>Amplitude in decibels</p>
<p class="p3"><br></p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>detunedFreq<span class="Apple-tab-span">	</span></b>actual "pitch" of a synth, determined by</p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>freq + detune</b>; freq is<b> </b>determined by</p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(<b>midinote</b> + <b>ctranspose).midicps * harmonic; </b>midinote is determined by</p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(<b>note + gtranspose + root)/stepsPerOctave * octave * 12; </b>note is determined by</p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>(degree + mtranspose).degreeToKey(scale, stepsPerOctave)</b><span class="Apple-tab-span">	</span></p>
<p class="p8">(</p>
<p class="p9"><span class="s2"><b><span class="Apple-tab-span">	</span></b></span><b>// the SynthDef</b></p>
<p class="p10"><span class="s2"><b><span class="Apple-tab-span">	</span></b></span><b>SynthDef</b><span class="s2"><b>( </b></span><span class="s3"><b>"test"</b></span><span class="s2"><b>, { </b></span><b>| out, freq = 440, amp = 0.1, nharms = 10, pan = 0, gate = 1 |</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b><span class="s4"><b>var</b></span><b> audio = </b><span class="s4"><b>Blip</b></span><b>.ar(freq, nharms, amp);</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b><span class="s4"><b>var</b></span><b> env = </b><span class="s4"><b>Linen</b></span><b>.kr(gate, doneAction: 2);</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b><span class="s4"><b>OffsetOut</b></span><b>.ar(out, </b><span class="s4"><b>Pan2</b></span><b>.ar(audio, pan, env) );</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span>}).memStore;</b></p>
<p class="p11"><br></p>
<p class="p9"><span class="s2"><b><span class="Apple-tab-span">	</span></b></span><b>// Events are written as parantheses enclosing key/value pairs</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span>(instrument: </b><span class="s5"><b>\test</b></span><b>).play;</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span>(instrument: </b><span class="s5"><b>\test</b></span><b>, freq: 20, nharms: 50).play;</b></p>
<p class="p8">)</p>
<p class="p3"><br></p>
<p class="p3"><br></p>
<p class="p13"><b>The Play Method<span class="Apple-converted-space"> </span></b></p>
<p class="p3"><br></p>
<p class="p1">While the play method is actually defined in the class <b>Pattern</b>, it is useful to review it here:</p>
<p class="p3"><br></p>
<p class="p1"><b><span class="Apple-tab-span">	</span>play (clock, protoEvent, quant)<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>returns an <b>EventStreamPlayer</b><span class="Apple-converted-space"> </span></p>
<p class="p3"><span class="Apple-tab-span">	</span></p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>clock <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>The clock that schedules the EventStreamPlayer, defaults to <b>TempoClock.default</b>. <span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Patterns that change graphics must use <b>AppClock</b>.</p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>protoEvent </b><span class="Apple-tab-span">	</span>The initial event modified by <b>Pbind</b>, defaults to <b>Event.default</b>.</p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>quant<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>A quantization value used by clock.<span class="Apple-converted-space">  </span>When a number, the pattern will start at the next even multiple<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>of that number. May also be a <b>Quant, </b>which specifies quantization, time position within that quantization,<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>and a timingOffset. See <b>Quant </b>for details.</p>
<p class="p3"><br></p>
<p class="p13"><b>Realtime Control with EventStreamPlayer</b></p>
<p class="p7"><br></p>
<p class="p1">The EventStreamPlayer provides realtime control through <b>mute</b>, <b>unmute</b>, <b>stop, play </b>and <b>reset</b>. <span class="Apple-converted-space"> </span></p>
<p class="p14"><br></p>
<p class="p15">(</p>
<p class="p15"><span class="s4">SynthDef</span>(<span class="s5">\cfstring1</span>, { <span class="s4">arg</span> i_out, freq = 360, gate = 1, pan, amp=0.1;</p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="s4">var</span> out, eg, fc, osc, a, b, w;</p>
<p class="p15"><span class="Apple-tab-span">	</span>fc = <span class="s4">LinExp</span>.kr(<span class="s4">LFNoise1</span>.kr(<span class="s4">Rand</span>(0.25,0.4)), -1,1,500,2000);</p>
<p class="p15"><span class="Apple-tab-span">	</span>osc = <span class="s4">Mix</span>.fill(8, {<span class="s4">LFSaw</span>.ar(freq * [<span class="s4">Rand</span>(0.99,1.01),<span class="s4">Rand</span>(0.99,1.01)], 0, amp) }).distort * 0.2;</p>
<p class="p15"><span class="Apple-tab-span">	</span>eg = <span class="s4">EnvGen</span>.kr(<span class="s4">Env</span>.asr(1,1,1), gate, doneAction:2);</p>
<p class="p15"><span class="Apple-tab-span">	</span>out = eg * <span class="s4">RLPF</span>.ar(osc, fc, 0.1);</p>
<p class="p15"><span class="Apple-tab-span">	</span>#a, b = out;</p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="s4">Out</span>.ar(i_out, <span class="s4">Mix</span>.ar(<span class="s4">PanAz</span>.ar(4, [a, b], [pan, pan+0.3])));</p>
<p class="p15">}).memStore;</p>
<p class="p16"><br></p>
<p class="p15">e = <span class="s4">Pbind</span>(</p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="s5">\degree</span>, <span class="s4">Pseq</span>((0..12),<span class="s4">inf</span>),<span class="Apple-converted-space"> </span></p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="s5">\dur</span>, 0.2,<span class="Apple-converted-space"> </span></p>
<p class="p17"><span class="s2"><span class="Apple-tab-span">	</span></span>\instrument<span class="s2">, </span>\cfstring1</p>
<p class="p18"><span class="s2">).play; </span>// returns an EventStream</p>
<p class="p15">)</p>
<p class="p16"><br></p>
<p class="p18"><span class="s2">( </span>// an interactive session</p>
<p class="p15">e.stop</p>
<p class="p15">e.play</p>
<p class="p15">e.reset</p>
<p class="p16"><br></p>
<p class="p18"><span class="s2">e.mute; </span>// keeps playing, but replaces notes with rests</p>
<p class="p16"><br></p>
<p class="p15">e.unmute;</p>
<p class="p16"><br></p>
<p class="p18"><span class="s2">e.reset;<span class="Apple-converted-space">  </span></span>// reset the stream.</p>
<p class="p18"><span class="s2">e.reset;<span class="Apple-converted-space">  </span></span>// reset the stream.</p>
<p class="p18"><span class="s2">e.reset;<span class="Apple-converted-space">  </span></span>// reset the stream.</p>
<p class="p18"><span class="s2">e.reset;<span class="Apple-converted-space">  </span></span>// reset the stream.</p>
<p class="p16"><br></p>
<p class="p18"><span class="s2">e.pause;<span class="Apple-converted-space">  </span></span>// will resume where paused.</p>
<p class="p16"><br></p>
<p class="p15">e.play;</p>
<p class="p16"><br></p>
<p class="p18"><span class="s2">e.stop;<span class="Apple-converted-space">  </span></span>// will reset before resume.</p>
<p class="p16"><br></p>
<p class="p15">e.play;</p>
<p class="p14"><br></p>
<p class="p19">)</p>
<p class="p20"><br></p>
<p class="p1">In addition, the stream the EventStreamPlayer plays can be altered while it is running through the method</p>
<p class="p1"><b>stream_(aStream)</b>.</p>
<p class="p14"><br></p>
<p class="p15">(</p>
<p class="p15">e.stream = <span class="s4">Pbind</span>(</p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s5">\degree</span>, <span class="s4">Pseq</span>([0,1,2,4,6,3,4,8],<span class="s4">inf</span>),<span class="Apple-converted-space"> </span></p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s5">\dur</span>, <span class="s4">Prand</span>([0.2,0.4,0.8],<span class="s4">inf</span>),<span class="Apple-converted-space"> </span></p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s5">\amp</span>, 0.05, <span class="s5">\octave</span>, 5,<span class="Apple-converted-space"> </span></p>
<p class="p17"><span class="s2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>\instrument<span class="s2">, </span>\cfstring1<span class="s2">, </span>\ctranspose<span class="s2">, 0</span></p>
<p class="p15">).asStream;</p>
<p class="p15">)</p>
<p class="p16"><br></p>
<p class="p15">(</p>
<p class="p15">e.stream = <span class="s4">Pbind</span>(</p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s5">\degree</span>, <span class="s4">Pseq</span>([0,1,2,4,6,3,4,8],<span class="s4">inf</span>),<span class="Apple-converted-space"> </span></p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s5">\dur</span>, <span class="s4">Prand</span>([0.2,0.4,0.8],<span class="s4">inf</span>),<span class="Apple-converted-space"> </span></p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s5">\amp</span>, 0.05, <span class="s5">\octave</span>, 5,<span class="Apple-converted-space"> </span></p>
<p class="p17"><span class="s2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>\instrument<span class="s2">, </span>\cfstring1<span class="s2">, </span>\ctranspose<span class="s2">, 0</span></p>
<p class="p15">).asStream;</p>
<p class="p15">)</p>
<p class="p16"><br></p>
<p class="p15">(</p>
<p class="p15">e.stream = <span class="s4">Pbind</span>(</p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s5">\degree</span>, <span class="s4">Pxrand</span>([0,1,2,4,6,3,5,7,8],<span class="s4">inf</span>),<span class="Apple-converted-space"> </span></p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s5">\dur</span>, <span class="s4">Prand</span>([0.2,0.4,0.8],<span class="s4">inf</span>), <span class="s5">\amp</span>, 0.05,<span class="Apple-converted-space"> </span></p>
<p class="p17"><span class="s2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>\octave<span class="s2">, 5, </span>\instrument<span class="s2">, </span>\cfstring1</p>
<p class="p15">).asStream;</p>
<p class="p15">)</p>
<p class="p3"><br></p>
<p class="p14"><br></p>
<p class="p14"><br></p>
<p class="p13"><b>Additional examples:</b></p>
<p class="p16"><br></p>
<p class="p15">(</p>
<p class="p15"><span class="s4">SynthDef</span>(<span class="s5">\berlinb</span>, { <span class="s4">arg</span> out=0, freq = 80, amp = 0.01, pan=0, gate=1;</p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="s4">var</span> synth, env;</p>
<p class="p15"><span class="Apple-tab-span">	</span>env = <span class="s4">Decay2</span>.kr(gate, 0.05, 8, 0.0003);</p>
<p class="p15"><span class="Apple-tab-span">	</span>synth = <span class="s4">RLPF</span>.ar(</p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s4">LFPulse</span>.ar(freq, 0, <span class="s4">SinOsc</span>.kr(0.12,[0,0.5pi],0.48,0.5)),</p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>freq * <span class="s4">SinOsc</span>.kr(0.21,0,18,20),</p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>0.07</p>
<p class="p15"><span class="Apple-tab-span">	</span>);</p>
<p class="p15"><span class="Apple-tab-span">	</span>#a, b = synth*env;</p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="s4">DetectSilence</span>.ar(a, 0.1, doneAction: 2);</p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="s4">Out</span>.ar(out, amp * <span class="s4">Mix</span>.ar(<span class="s4">PanAz</span>.ar(4, [a,b], [pan, pan+1])));</p>
<p class="p15">}).memStore;</p>
<p class="p15">)</p>
<p class="p16"><br></p>
<p class="p15">(</p>
<p class="p15">f = <span class="s4">Pbind</span>(</p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s5">\degree</span>, <span class="s4">Pseq</span>([0,1,2,4,6,3,4,8],<span class="s4">inf</span>),<span class="Apple-converted-space"> </span></p>
<p class="p17"><span class="s2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>\dur<span class="s2">, 0.5, </span>\octave<span class="s2">, 3, </span>\instrument<span class="s2">, </span>\berlinb</p>
<p class="p15">).play;</p>
<p class="p15">)</p>
<p class="p16"><br></p>
<p class="p15">(</p>
<p class="p15">f.stream = <span class="s4">Pbind</span>(</p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s5">\degree</span>, <span class="s4">Pseq</span>([0,1,2,4,6,3,4,8],<span class="s4">inf</span>),<span class="Apple-converted-space"> </span></p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s5">\dur</span>, 0.5, <span class="s5">\octave</span>, [2,1],</p>
<p class="p17"><span class="s2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>\instrument<span class="s2">, </span>\berlinb<span class="s2">,<span class="Apple-converted-space"> </span></span></p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s5">\pan</span>, <span class="s4">Pfunc</span>({1.0.rand2})<span class="Apple-converted-space"> </span></p>
<p class="p15">).asStream;</p>
<p class="p8">)</p>
<p class="p3"><br></p>
<p class="p1"><b>Additional arguments</b></p>
<p class="p1">Here is an example with more bindings.<span class="Apple-converted-space">  </span>Here we have added a filter with cutoff and resonance arguments.</p>
<p class="p1">You will need to hit command '.' before executing the next few pbind ex. without having them stack up.</p>
<p class="p1">also, due to the synthdef's and synthdeclib, if the server is shut down you will have to reload the<span class="Apple-converted-space"> </span></p>
<p class="p1">synthdef and re-read the synthdesclib.<span class="Apple-converted-space"> </span></p>
<p class="p3"><br></p>
<p class="p15">(</p>
<p class="p15"><span class="s4">SynthDef</span>(<span class="s3">"acid"</span>, { <span class="s4">arg</span> out, freq = 1000, gate = 1, pan = 1, cut = 4000, rez = 0.8, amp = 1;</p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="s4">Out</span>.ar(out,</p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s4">Pan2</span>.ar(</p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s4">RLPF</span>.ar(</p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s4">Pulse</span>.ar(freq,0.05),</p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>cut, rez),</p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>pan) * <span class="s4">EnvGen</span>.kr(<span class="s4">Env</span>.linen(0.01, 1, 0.3), gate, amp, doneAction:2);</p>
<p class="p15"><span class="Apple-tab-span">	</span>)<span class="Apple-converted-space"> </span></p>
<p class="p15">}).memStore;</p>
<p class="p15">)</p>
<p class="p16"><br></p>
<p class="p15">(</p>
<p class="p15"><span class="s4">Pbind</span>(<span class="s5">\instrument</span>,<span class="s5">\acid</span>, <span class="s5">\dur</span>,<span class="s4">Pseq</span>([0.25,0.5,0.25],<span class="s4">inf</span>), <span class="s5">\root</span>,-12,</p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="s5">\degree</span>,<span class="s4">Pseq</span>([0,3,5,7,9,11,5,1],<span class="s4">inf</span>), <span class="s5">\pan</span>,<span class="s4">Pfunc</span>({1.0.rand2}),</p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="s5">\cut</span>,<span class="s4">Pxrand</span>([1000,500,2000,300],<span class="s4">inf</span>), <span class="s5">\rez</span>,<span class="s4">Pfunc</span>({0.7.rand +0.3}), <span class="s5">\amp</span>,0.2).play;</p>
<p class="p15">)</p>
<p class="p14"><br></p>
<p class="p14"><br></p>
<p class="p1">The <b>ListPatterns</b> can be put around Event Streams to create sequences of Event Streams.</p>
<p class="p15">(</p>
<p class="p21">Pseq<span class="s2">([</span></p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="s4">Pbind</span>(<span class="s5">\instrument</span>,<span class="s5">\acid</span>, <span class="s5">\dur</span>,<span class="s4">Pseq</span>([0.25,0.5,0.25],4), <span class="s5">\root</span>,-24,</p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s5">\degree</span>,<span class="s4">Pseq</span>([0,3,5,7,9,11,5,1],<span class="s4">inf</span>), <span class="s5">\pan</span>,<span class="s4">Pfunc</span>({1.0.rand2}),</p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s5">\cut</span>,<span class="s4">Pxrand</span>([1000,500,2000,300],<span class="s4">inf</span>),<span class="s5">\rez</span>,<span class="s4">Pfunc</span>({0.7.rand +0.3}), <span class="s5">\amp</span>,0.2),</p>
<p class="p16"><br></p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="s4">Pbind</span>(<span class="s5">\instrument</span>,<span class="s5">\acid</span>, <span class="s5">\dur</span>,<span class="s4">Pseq</span>([0.25],6), <span class="s5">\root</span>,-24, <span class="s5">\degree</span>,<span class="s4">Pseq</span>([18,17,11,9],<span class="s4">inf</span>),</p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s5">\pan</span>,<span class="s4">Pfunc</span>({1.0.rand2}),<span class="s5">\cut</span>,1500, <span class="s5">\rez</span>,<span class="s4">Pfunc</span>({0.7.rand +0.3}), <span class="s5">\amp</span>,0.16)</p>
<p class="p16"><br></p>
<p class="p15">],<span class="s4">inf</span>).play;</p>
<p class="p15">)</p>
<p class="p3"><br></p>
<p class="p1">'<b>Pseq</b>' in the above ex. can be any pattern object:</p>
<p class="p15">(</p>
<p class="p21">Prand<span class="s2">([</span></p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="s4">Pbind</span>(<span class="s5">\instrument</span>,<span class="s5">\acid</span>, <span class="s5">\dur</span>,<span class="s4">Pseq</span>([0.25,0.5,0.25],4), <span class="s5">\root</span>,-24,</p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s5">\degree</span>,<span class="s4">Pseq</span>([0,3,5,7,9,11,5,1],<span class="s4">inf</span>),<span class="s5">\pan</span>,<span class="s4">Pfunc</span>({1.0.rand2}),</p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s5">\cut</span>,<span class="s4">Pxrand</span>([1000,500,2000,300],<span class="s4">inf</span>), <span class="s5">\rez</span>,<span class="s4">Pfunc</span>({0.7.rand +0.3}),<span class="Apple-converted-space"> </span></p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s5">\amp</span>,0.2),</p>
<p class="p16"><br></p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="s4">Pbind</span>(<span class="s5">\instrument</span>,<span class="s5">\acid</span>, <span class="s5">\dur</span>,<span class="s4">Pseq</span>([0.25],6), <span class="s5">\root</span>,-24, <span class="s5">\degree</span>,<span class="s4">Pseq</span>([18,17,11,9],<span class="s4">inf</span>), <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s5">\pan</span>,<span class="s4">Pfunc</span>({1.0.rand2}),<span class="s5">\cut</span>,1500, <span class="s5">\rez</span>,<span class="s4">Pfunc</span>({0.7.rand +0.3}), <span class="s5">\amp</span>,0.16)</p>
<p class="p16"><br></p>
<p class="p15">],<span class="s4">inf</span>).play;</p>
<p class="p15">)</p>
<p class="p3"><br></p>
<p class="p1"><b>Multichannel Expansion.</b></p>
<p class="p1">If we supply an array for any argument, the synth node will<span class="Apple-converted-space"> </span></p>
<p class="p1">automatically replicate to handle the additional arguments.</p>
<p class="p1">When we give the 'root' argument an array, we should hear a chord....</p>
<p class="p3"><br></p>
<p class="p15">(</p>
<p class="p21">Pbind<span class="s2">(</span></p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="s5">\instrument</span>,<span class="s5">\acid</span>, <span class="s5">\dur</span>,<span class="s4">Pseq</span>([0.25,0.5,0.25],<span class="s4">inf</span>),<span class="Apple-converted-space"> </span></p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="s5">\root</span>,[-24,-17],<span class="Apple-converted-space"> </span></p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="s5">\degree</span>,<span class="s4">Pseq</span>([0,3,5,7,9,11,5,1],<span class="s4">inf</span>),<span class="Apple-converted-space"> </span></p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="s5">\pan</span>,<span class="s4">Pfunc</span>({1.0.rand2}),<span class="s5">\cut</span>,<span class="s4">Pxrand</span>([1000,500,2000,300],<span class="s4">inf</span>), <span class="s5">\rez</span>,<span class="s4">Pfunc</span>({0.7.rand +0.3}),</p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="s5">\amp</span>,0.2).play;</p>
<p class="p16"><br></p>
<p class="p15">)</p>
<p class="p14"><br></p>
<p class="p14"><br></p>
<p class="p1">Using <a href="../Libraries/JITLib/Patterns/Pdef.html"><span class="s9">Pdef</span></a> (JITLib) makes it easy to replace patterns on the fly:</p>
<p class="p14"><br></p>
<p class="p14"><br></p>
<p class="p15">(</p>
<p class="p17"><span class="s4">Pdef</span><span class="s2">(</span>\buckyball<span class="s2">).play;</span></p>
<p class="p15">)</p>
<p class="p16"><br></p>
<p class="p15">(</p>
<p class="p15"><span class="s4">Pdef</span>(<span class="s5">\buckyball</span>, <span class="s4">Pbind</span>(<span class="s5">\instrument</span>,<span class="s5">\acid</span>, <span class="s5">\dur</span>,<span class="s4">Pseq</span>([0.25,0.5,0.25],<span class="s4">inf</span>), <span class="s5">\root</span>,[-24,-17],<span class="Apple-converted-space"> </span></p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="s5">\degree</span>,<span class="s4">Pseq</span>([0,3,5,7,9,11,[5,17],1],<span class="s4">inf</span>), <span class="s5">\pan</span>,<span class="s4">Pfunc</span>({[1.0.rand2,1.0.rand2]}),</p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="s5">\cut</span>,<span class="s4">Pxrand</span>([1000,500,2000,300],<span class="s4">inf</span>), <span class="s5">\rez</span>,<span class="s4">Pfunc</span>({0.7.rand +0.3}), <span class="s5">\amp</span>,[0.15,0.22]));</p>
<p class="p15">)</p>
<p class="p15">(</p>
<p class="p15"><span class="s4">Pdef</span>(<span class="s5">\buckyball</span>, <span class="s4">Pbind</span>(<span class="s5">\instrument</span>,<span class="s5">\acid</span>, <span class="s5">\dur</span>,<span class="s4">Pseq</span>([0.25,0.5,0.25],<span class="s4">inf</span>), <span class="s5">\root</span>,[-24,-17],<span class="Apple-converted-space"> </span></p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="s5">\degree</span>,<span class="s4">Pseq</span>([0b,3b,5b,7b,9b,11b,5b,0b],<span class="s4">inf</span>), <span class="s5">\pan</span>,<span class="s4">Pfunc</span>({1.0.rand2}),<span class="Apple-converted-space">  </span><span class="s6">//notice the flats</span></p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="s5">\cut</span>,<span class="s4">Pxrand</span>([1000,500,2000,300],<span class="s4">inf</span>), <span class="s5">\rez</span>,<span class="s4">Pfunc</span>({0.7.rand +0.3}), <span class="s5">\amp</span>,0.2));</p>
<p class="p15">)</p>
<p class="p16"><br></p>
<p class="p18">//stop the Pdef</p>
<p class="p17"><span class="s4">Pdef</span><span class="s2">(</span>\buckyball<span class="s2">).stop;</span></p>
<p class="p16"><br></p>
<p class="p18">//start the Pdef</p>
<p class="p15"><span class="s4">Pdef</span>(<span class="s5">\buckyball</span>).resume;</p>
<p class="p16"><br></p>
<p class="p18">//removing the Pdef</p>
<p class="p15"><span class="s4">Pdef</span>.remove(<span class="s5">\buckyball</span>);</p>
<p class="p14"><br></p>
<p class="p3"><br></p>
<p class="p1"><b>Sending to effects.</b></p>
<p class="p1">Assignment to effect processors can be achieved by setting the 'out' argument to the desired</p>
<p class="p1">efx's input bus.<span class="Apple-converted-space">  </span>The effect Synth must also be created.<span class="Apple-converted-space">  </span>Synth.new is one way of doing this.</p>
<p class="p3"><br></p>
<p class="p15">(</p>
<p class="p18">//efx synthdef- dig the timing on the delay and the pbind.<span class="Apple-converted-space">  </span>:-P</p>
<p class="p15"><span class="s4">SynthDef</span>(<span class="s3">"pbindefx"</span>, { <span class="s4">arg</span> out, in, time1=0.25, time2=0.5; <span class="Apple-converted-space"> <span class="Apple-tab-span">	</span></span></p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="s4">var</span> audio, efx;</p>
<p class="p15"><span class="Apple-tab-span">	</span>audio = <span class="s4">In</span>.ar([20,21],2);</p>
<p class="p15"><span class="Apple-tab-span">	</span>efx=<span class="s4">CombN</span>.ar(audio, 0.5, [time1,time2], 10, 1, audio); <span class="Apple-converted-space"> <span class="Apple-tab-span">	</span></span></p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="s4">Out</span>.ar(out, efx);</p>
<p class="p15">}).memStore;</p>
<p class="p16"><br></p>
<p class="p18">//create efx synth</p>
<p class="p15">a = <span class="s4">Synth</span>.after(1, <span class="s3">"pbindefx"</span>);</p>
<p class="p16"><br></p>
<p class="p18">//if you don't like the beats change to 0.4,0.24</p>
<p class="p18">//a.set(\time1,0.4, \time2,0.24);</p>
<p class="p16"><br></p>
<p class="p15"><span class="s4">SynthDef</span>(<span class="s3">"acid"</span>, { <span class="s4">arg</span> out, freq = 1000, gate = 1, pan = 0, cut = 4000, rez = 0.8, amp = 1;</p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="s4">Out</span>.ar(out,</p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s4">Pan2</span>.ar(</p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s4">RLPF</span>.ar(</p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s4">Pulse</span>.ar(freq,0.05),</p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>cut, rez),</p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>pan) * <span class="s4">EnvGen</span>.kr(<span class="s4">Env</span>.linen(0.02, 1, 0.3), gate, amp, doneAction:2);</p>
<p class="p15"><span class="Apple-tab-span">	</span>)<span class="Apple-converted-space"> </span></p>
<p class="p15">}).memStore;</p>
<p class="p15">)</p>
<p class="p16"><br></p>
<p class="p16"><br></p>
<p class="p15">(</p>
<p class="p15"><span class="s4">Pbind</span>(<span class="s5">\instrument</span>,<span class="s5">\acid</span>, <span class="s5">\out</span>, 20, <span class="s5">\dur</span>,<span class="s4">Pseq</span>([0.25,0.5,0.25],<span class="s4">inf</span>), <span class="s5">\root</span>,[-24,-17],</p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="s5">\degree</span>,<span class="s4">Pseq</span>([0,3,5,7,9,11,5,1],<span class="s4">inf</span>), <span class="s5">\pan</span>,<span class="s4">Pfunc</span>({1.0.rand2}),</p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="s5">\cut</span>,<span class="s4">Pxrand</span>([1000,500,2000,300],<span class="s4">inf</span>), <span class="s5">\rez</span>,<span class="s4">Pfunc</span>({0.7.rand +0.3}), <span class="s5">\amp</span>,0.12).play;</p>
<p class="p15">)</p>
<p class="p11"><br></p>
<p class="p3"><br></p>
</body>
</html>
