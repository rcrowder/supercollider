<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<title></title>
<meta name="Generator" content="Cocoa HTML Writer">
<meta name="CocoaVersion" content="949.33">
<style type="text/css">
p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Helvetica}
p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; min-height: 12.0px}
p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #0029ac; min-height: 12.0px}
p.p6 {margin: 0.0px 0.0px 0.0px 14.0px; text-indent: -14.0px; font: 12.0px Helvetica}
p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #ad140d}
p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco}
p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #606060}
p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #001bb9}
span.s1 {font: 18.0px Helvetica}
span.s2 {color: #002bf0}
span.s3 {color: #000000}
span.s4 {color: #001bb9}
span.s5 {color: #606060}
span.Apple-tab-span {white-space:pre}
</style>
</head>
<body>
<p class="p1"><span class="s1"><b>OffsetOut</b></span><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>write a signal to a bus with sample accurate timing<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b></p>
<p class="p2"><br></p>
<p class="p3"><b>superclass: Out</b></p>
<p class="p2"><br></p>
<p class="p3">Output signal to a bus,<span class="Apple-converted-space">  </span>the sample offset within the bus is kept exactly; i.e. if the synth is scheduled to be started part way through a control cycle, OffsetOut will maintain the correct offset by buffering the output and delaying it until the exact time that the synth was scheduled for.</p>
<p class="p2"><br></p>
<p class="p3">This ugen is used where sample accurate output is needed.</p>
<p class="p4"><br></p>
<p class="p3"><b>*ar(bus, channelsArray)<span class="Apple-converted-space">  </span></b>- write a signal to an audio bus.</p>
<p class="p3"><b>*kr(bus, channelsArray)<span class="Apple-converted-space">  </span></b>-<b> </b>write a signal to a control bus.</p>
<p class="p5"><span class="Apple-tab-span">	</span></p>
<p class="p3"><b>bus </b>- the index of the bus to write out to. The lowest numbers are written to the audio hardware.</p>
<p class="p6"><b>channelsArray </b>- an Array of channels or single output to write out. You cannot change the size of this once a SynthDef has been built.</p>
<p class="p4"><span class="Apple-tab-span">	</span></p>
<p class="p3">See the <a href="../../ServerArchitecture/Server-Architecture.html"><span class="s2">Server-Architecture</span></a> and <a href="../../ServerArchitecture/Bus.html"><span class="s2">Bus</span></a> helpfiles for more information on buses and how they are used.</p>
<p class="p4"><span class="Apple-tab-span">	</span></p>
<p class="p3">for achieving subsample accuracy see: <a href="../InfoUGens/SubsampleOffset.html"><span class="s2">SubsampleOffset</span></a></p>
<p class="p4"><span class="Apple-tab-span">	</span></p>
<p class="p4"><span class="Apple-tab-span">	</span></p>
<p class="p4"><br></p>
<p class="p7">// example</p>
<p class="p4"><br></p>
<p class="p8"><span class="Apple-tab-span">	</span>(</p>
<p class="p9"><span class="s3"><span class="Apple-tab-span">	</span></span><span class="s4">SynthDef</span><span class="s3">(</span>"help-OffsetOut"<span class="s3">,<span class="Apple-converted-space"> </span></span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>{ <span class="s4">arg</span> out=0, freq=440, sustain=0.05;</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s4">var</span> env;</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>env = <span class="s4">EnvGen</span>.kr(<span class="s4">Env</span>.perc(0.01, sustain, 0.2), doneAction:2);</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s4">OffsetOut</span>.ar(out, <span class="s4">SinOsc</span>.ar(freq, 0, env))</p>
<p class="p8"><span class="Apple-tab-span">	</span>}).send(s);</p>
<p class="p4"><span class="Apple-tab-span">	</span></p>
<p class="p9"><span class="s3"><span class="Apple-tab-span">	</span></span><span class="s4">SynthDef</span><span class="s3">(</span>"help-Out"<span class="s3">,<span class="Apple-converted-space"> </span></span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>{ <span class="s4">arg</span> out=0, freq=440, sustain=0.05;</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s4">var</span> env;</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>env = <span class="s4">EnvGen</span>.kr(<span class="s4">Env</span>.perc(0.01, sustain, 0.2), doneAction:2);</p>
<p class="p7"><span class="s3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>//compare to Out:</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s4">Out</span>.ar(out, <span class="s4">SinOsc</span>.ar(freq, 0, env))</p>
<p class="p8"><span class="Apple-tab-span">	</span>}).send(s);</p>
<p class="p8"><span class="Apple-tab-span">	</span>)</p>
<p class="p4"><br></p>
<p class="p4"><span class="Apple-tab-span">	</span></p>
<p class="p7"><span class="s3"><span class="Apple-tab-span">	</span></span>// these are in sync</p>
<p class="p8"><span class="Apple-tab-span">	</span>(</p>
<p class="p10"><span class="s3"><span class="Apple-tab-span">	</span></span>Routine<span class="s3">({</span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>loop {</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>s.sendBundle(0.2, [<span class="s5">"/s_new"</span>, <span class="s5">"help-OffsetOut"</span>, -1]);</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>0.01.wait;</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p>
<p class="p8"><span class="Apple-tab-span">	</span>}).play;</p>
<p class="p8"><span class="Apple-tab-span">	</span>)</p>
<p class="p4"><span class="Apple-tab-span">	</span></p>
<p class="p7"><span class="s3"><span class="Apple-tab-span">	</span></span>// these are less reliably in sync and are placed at multiples of blocksize.</p>
<p class="p8"><span class="Apple-tab-span">	</span>(</p>
<p class="p10"><span class="s3"><span class="Apple-tab-span">	</span></span>Routine<span class="s3">({</span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>loop {</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>s.sendBundle(0.2, [<span class="s5">"/s_new"</span>, <span class="s5">"help-Out"</span>, -1]);</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>0.01.wait;</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p>
<p class="p8"><span class="Apple-tab-span">	</span>}).play;</p>
<p class="p8"><span class="Apple-tab-span">	</span>)</p>
<p class="p4"><span class="Apple-tab-span">	</span></p>
<p class="p4"><br></p>
<p class="p3">Note that if you have an input to the synth, it will be coming in at its normal time, then mixed in your synth, and then delayed with the output. So you shouldn't use OffsetOut for effects or gating.</p>
<p class="p4"><br></p>
<p class="p10">SynthDef<span class="s3">(</span><span class="s5">"trig1"</span><span class="s3">,{</span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="s4">var</span> gate,tone;</p>
<p class="p8"><span class="Apple-tab-span">	</span>gate = <span class="s4">Trig1</span>.ar(1.0,t);</p>
<p class="p7"><span class="s3"><span class="Apple-tab-span">	</span>tone = </span><span class="s4">In</span><span class="s3">.ar(10,1); </span>// tone comes in normally</p>
<p class="p7"><span class="s3"><span class="Apple-tab-span">	</span></span>// but is then delayed when by the OffsetOut</p>
<p class="p10"><span class="s3"><span class="Apple-tab-span">	</span></span>OffsetOut<span class="s3">.ar(0,</span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>tone * <span class="s4">EnvGen</span>.ar(</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s4">Env</span>([0,0.1,0.1,0],[0.01,1.0,0.01],[-4,4],2),</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>gate,doneAction: 2</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>)</p>
<p class="p8"><span class="Apple-tab-span">	</span>)</p>
<p class="p8">})</p>
<p class="p4"><span class="Apple-tab-span">	</span></p>
</body>
</html>
