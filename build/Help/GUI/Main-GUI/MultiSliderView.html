<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<title></title>
<meta name="Generator" content="Cocoa HTML Writer">
<meta name="CocoaVersion" content="824.48">
<style type="text/css">
p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; min-height: 12.0px}
p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; color: #001fe8}
p.p5 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 12.0px Helvetica; min-height: 14.0px}
p.p6 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 14.0px Helvetica}
p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 16.0px Times; min-height: 19.0px}
p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Helvetica}
p.p9 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 9.0px Monaco; min-height: 12.0px}
p.p10 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 12.0px Helvetica}
p.p11 {margin: 0.0px 0.0px 0.0px 85.0px; text-indent: -85.0px; font: 12.0px Helvetica}
p.p12 {margin: 0.0px 0.0px 0.0px 85.0px; text-indent: -85.0px; font: 12.0px Helvetica; min-height: 14.0px}
p.p13 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco}
p.p14 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #713023}
p.p15 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #95261b}
p.p16 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 9.0px Monaco}
p.p17 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 9.0px Monaco; color: #95261b}
p.p18 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 9.0px Monaco; color: #606060}
p.p19 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 9.0px Monaco; color: #0023b3}
p.p20 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #606060}
span.s1 {font: 18.0px Helvetica}
span.s2 {color: #2347da}
span.s3 {color: #000000}
span.s4 {text-decoration: underline}
span.s5 {color: #1940e0}
span.s6 {color: #6f7178}
span.s7 {color: #132fa8}
span.s8 {color: #713023}
span.s9 {color: #0023b3}
span.s10 {color: #95261b}
span.s11 {color: #606060}
span.s12 {color: #426c1b}
span.Apple-tab-span {white-space:pre}
</style>
</head>
<body>
<p class="p1"><span class="s1"><b>MultiSliderView<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b></span><b>a cross-platform redirector for a GUI widget</b><span class="s1"><b><span class="Apple-tab-span">	</span></b></span></p>
<p class="p2"><br></p>
<p class="p1"><b>Inherits from: </b><a href="../../Core/Object.html"><span class="s2"><b>Object</b></span></a><b> : </b><a href="../GUI-Tools/ViewRedirect.html"><span class="s2"><b>ViewRedirect</b></span></a></p>
<p class="p3"><br></p>
<p class="p1">This class will return the gui kit specific version of a MultiSliderView.</p>
<p class="p2"><br></p>
<p class="p4"><span class="s3"><b>See also:</b> <a href="../GUI-Tools/GUI.html"><span class="s4">GUI</span></a>, <a href="../GUI-Classes.html"><span class="s4">GUI-Classes</span></a>, <a href="../GUI-Overview.html"><span class="s4">GUI-Overview</span></a></span></p>
<p class="p5"><br></p>
<p class="p6"><b>Platform Specific Examples and Documentation:</b></p>
<p class="p7"><br></p>
<p class="p4"><span class="s3"><b>SwingGUI:<span class="Apple-converted-space">     </span></b> <a href="../../SwingOSC/JSCMultiSliderView.html"><span class="s4">JSCMultiSliderView</span></a></span></p>
<p class="p7"><br></p>
<p class="p4"><span class="s3"><b>CocoaGUI:<span class="Apple-converted-space">     </span></b> <a href="../Cocoa-GUI/SCMultiSliderView.html"><span class="s4">SCMultiSliderView</span></a></span></p>
<p class="p7"><br></p>
<p class="p1">Some of the links above might not work, if the help files for the listed kit are not included in your setup. If you do not see your GUI kit listed in the help redirect stubs, or to fix the above links,<span class="Apple-converted-space">  </span>see <a href="../GUI-Tools/Regenerate-GUI-Help.html"><span class="s5">Regenerate-GUI-Help</span></a>.</p>
<p class="p3"><br></p>
<p class="p2"><br></p>
<p class="p8"><b>Creation / Class Methods</b></p>
<p class="p9"><br></p>
<p class="p10"><b><span class="Apple-tab-span">	</span>*new (parent, bounds)</b></p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>parent </b>- The parent view.</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>bounds </b>- An instance of <a href="../../Geometry/Rect.html"><span class="s6">Rect</span></a>, or a <a href="../../Geometry/Point.html"><span class="s6">Point</span></a> indicating width@height.</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p13"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(</p>
<p class="p13"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>n=20;</p>
<p class="p13"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>w = <span class="s7">Window</span>.new.front;</p>
<p class="p13"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>m = <span class="s7">MultiSliderView</span>(w,<span class="s7">Rect</span>(10,10,n*13+2,100)); <span class="s8">//default thumbWidth is 13</span></p>
<p class="p14"><span class="s3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>m.value=</span><span class="s7">Array</span><span class="s3">.fill(n, {</span><span class="s7">|v|</span><span class="s3"> v*0.05}); </span>// size is set automatically when you set the value</p>
<p class="p13"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>m.action = { <span class="s7">arg</span> q;</p>
<p class="p13"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>q.value.postln;</p>
<p class="p13"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>};</p>
<p class="p13"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>)</p>
<p class="p5"><br></p>
<p class="p9"><br></p>
<p class="p6"><b>Examples</b></p>
<p class="p3"><br></p>
<p class="p15">// basic</p>
<p class="p13">(</p>
<p class="p13">n=20;</p>
<p class="p13">w = <span class="s9">Window</span>.new.front;</p>
<p class="p13">m = <span class="s9">MultiSliderView</span>(w,<span class="s9">Rect</span>(10,10,n*13+2,100)); <span class="s10">//default thumbWidth is 13</span></p>
<p class="p15"><span class="s3">m.value=</span><span class="s9">Array</span><span class="s3">.fill(n, {</span><span class="s9">|v|</span><span class="s3"> v*0.05}); </span>// size is set automatically when you set the value</p>
<p class="p13">m.action = { <span class="s9">arg</span> q;</p>
<p class="p13"><span class="Apple-tab-span">	</span>q.value.postln;</p>
<p class="p13">};</p>
<p class="p13">)<span class="Apple-tab-span">	</span></p>
<p class="p3"><br></p>
<p class="p3"><br></p>
<p class="p15">// looks like a candlestick graph</p>
<p class="p13">(</p>
<p class="p13"><span class="s9">var</span> size;</p>
<p class="p13">size = 350 / 6;</p>
<p class="p13">w = <span class="s9">Window</span>.new;</p>
<p class="p13">w.view.decorator = <span class="s9">FlowLayout</span>(w.view.bounds);</p>
<p class="p13">m = <span class="s9">MultiSliderView</span>(w, <span class="s9">Rect</span>(0, 0, 350, 100));<span class="Apple-tab-span">	</span></p>
<p class="p13">m.value_(<span class="s9">Array</span>.fill(size, {0.01}));</p>
<p class="p15"><span class="s3">m.isFilled_(</span><span class="s9">true</span><span class="s3">); </span>// width in pixels of each stick</p>
<p class="p15"><span class="s3">m.indexThumbSize_(2.0); </span>// spacing on the value axis</p>
<p class="p13">m.gap_(4);</p>
<p class="p13">w.front;</p>
<p class="p13">)</p>
<p class="p3"><br></p>
<p class="p15">// rotate the above graph</p>
<p class="p13">(</p>
<p class="p13">m.bounds_(<span class="s9">Rect</span>(0, 0, 100, 350));</p>
<p class="p13">m.indexIsHorizontal_(<span class="s9">false</span>);</p>
<p class="p13">)</p>
<p class="p3"><br></p>
<p class="p3"><br></p>
<p class="p6"><b>Interactive Example (explains all the graphic options)</b></p>
<p class="p3"><br></p>
<p class="p16">(</p>
<p class="p16">n=40;</p>
<p class="p9"><br></p>
<p class="p16">w = <span class="s9">Window</span>(<span class="s11">"MultiSlider Options"</span>, <span class="s9">Rect</span>(200, <span class="s9">Window</span>.screenBounds.height-550, 600, 450));</p>
<p class="p16">f={<span class="Apple-tab-span">	</span></p>
<p class="p16"><span class="Apple-tab-span">	</span>w.view.decorator = <span class="s9">FlowLayout</span>( w.view.bounds, 10@10, 10@2 );</p>
<p class="p17"><span class="s3"><span class="Apple-tab-span">	</span>m = </span><span class="s9">MultiSliderView</span><span class="s3">(w,</span><span class="s9">Rect</span><span class="s3">(0,0,580,200)); </span>// default thumbWidth is 13</p>
<p class="p16"><span class="Apple-tab-span">	</span>m.value=<span class="s9">Array</span>.fill(n, {<span class="s9">|v|</span> 0.5+((0.3*v).sin*0.25)});</p>
<p class="p16"><span class="Apple-tab-span">	</span>m.action = { <span class="s9">arg</span> q;q.value.postln; };</p>
<p class="p9"><span class="Apple-tab-span">	</span></p>
<p class="p18"><span class="s3"><span class="Apple-tab-span">	</span></span><span class="s9">StaticText</span><span class="s3">(w,380@18).string_(</span>"indexThumbSize or thumbSize"<span class="s3">);</span></p>
<p class="p16"><span class="Apple-tab-span">	</span><span class="s9">Slider</span>(w,580@10).action_({<span class="s9">arg</span> sl; m.indexThumbSize=sl.value*24}).value_(0.5);</p>
<p class="p16"><span class="Apple-tab-span">	</span><span class="s9">StaticText</span>(w,380@18).string_(<span class="s11">"valueThumbSize"</span>);</p>
<p class="p16"><span class="Apple-tab-span">	</span><span class="s9">Slider</span>(w,580@10).action_({<span class="s9">arg</span> sl; m.valueThumbSize=sl.value*24}).value_(0.5);</p>
<p class="p16"><span class="Apple-tab-span">	</span><span class="s9">StaticText</span>(w,580@18).string_(<span class="s11">"xOffset or gap"</span>);</p>
<p class="p16"><span class="Apple-tab-span">	</span><span class="s9">Slider</span>(w,580@10).action_({<span class="s9">arg</span> sl; m.xOffset=sl.value*50});</p>
<p class="p18"><span class="s3"><span class="Apple-tab-span">	</span></span><span class="s9">StaticText</span><span class="s3">(w,580@18).string_(</span>"setProperty(\\startIndex)"<span class="s3">);</span></p>
<p class="p16"><span class="Apple-tab-span">	</span><span class="s9">Slider</span>(w,580@10).action_({<span class="s9">arg</span> sl; m.setProperty(<span class="s12">\startIndex</span>, sl.value *m.size )};);</p>
<p class="p9"><span class="Apple-tab-span">	</span></p>
<p class="p19"><span class="s3"><span class="Apple-tab-span">	</span></span>CompositeView<span class="s3">(w,580@10);</span><span class="s10">//spacer</span></p>
<p class="p16"><span class="Apple-tab-span">	</span><span class="s9">Button</span>(w,100@20).states_([[<span class="s11">"RESET"</span>,<span class="s9">Color</span>.red]])</p>
<p class="p16"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>.action_({ w.view.removeAll; f.value; });</p>
<p class="p16"><span class="Apple-tab-span">	</span>h=<span class="s9">StaticText</span>(w,450@18).string_(<span class="s11">""</span>).stringColor_(<span class="s9">Color</span>.yellow);</p>
<p class="p16"><span class="Apple-tab-span">	</span><span class="s9">Button</span>(w,100@20).states_([[<span class="s11">"elasticMode = 0"</span>],[<span class="s11">"elasticMode = 1"</span>,<span class="s9">Color</span>.white]])</p>
<p class="p16"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>.action_({<span class="s9">|b|</span> m.elasticMode = b.value});</p>
<p class="p18"><span class="s3"><span class="Apple-tab-span">	</span></span><span class="s9">Button</span><span class="s3">(w,160@20).states_([[</span>"indexIsHorizontal = false"<span class="s3">],[</span>"indexIsHorizontal = true"<span class="s3">,</span><span class="s9">Color</span><span class="s3">.white]])</span></p>
<p class="p16"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>.action_({<span class="s9">|b|</span> m.indexIsHorizontal = b.value.booleanValue}).value_(1);</p>
<p class="p16"><span class="Apple-tab-span">	</span><span class="s9">Button</span>(w,120@20).states_([[<span class="s11">"isFilled = false"</span>],[<span class="s11">"isFilled = true"</span>,<span class="s9">Color</span>.white]])</p>
<p class="p16"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>.action_({<span class="s9">|b|</span> m.isFilled = b.value.booleanValue});</p>
<p class="p18"><span class="s3"><span class="Apple-tab-span">	</span></span><span class="s9">Button</span><span class="s3">(w,120@20).states_([[</span>"drawRects = false"<span class="s3">],[</span>"drawRects = true"<span class="s3">,</span><span class="s9">Color</span><span class="s3">.white]])</span></p>
<p class="p16"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>.action_({<span class="s9">|b|</span> m.drawRects = b.value.booleanValue}).valueAction_(1);</p>
<p class="p18"><span class="s3"><span class="Apple-tab-span">	</span></span><span class="s9">Button</span><span class="s3">(w,100@20).states_([[</span>"drawLines = false"<span class="s3">],[</span>"drawLines = true"<span class="s3">,</span><span class="s9">Color</span><span class="s3">.white]])</span></p>
<p class="p16"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>.action_({<span class="s9">|b|</span> m.drawLines = b.value.booleanValue});</p>
<p class="p16"><span class="Apple-tab-span">	</span><span class="s9">Button</span>(w,160@20).states_([[<span class="s11">"readOnly = false"</span>],[<span class="s11">"readOnly = true"</span>,<span class="s9">Color</span>.white]])</p>
<p class="p16"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>.action_({<span class="s9">|b|</span> m.readOnly = b.value.booleanValue});</p>
<p class="p18"><span class="s3"><span class="Apple-tab-span">	</span></span><span class="s9">Button</span><span class="s3">(w,120@20).states_([[</span>"showIndex = false"<span class="s3">],[</span>"showIndex = true"<span class="s3">,</span><span class="s9">Color</span><span class="s3">.white]])</span></p>
<p class="p16"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>.action_({<span class="s9">|b|</span> m.showIndex = b.value.booleanValue});</p>
<p class="p18"><span class="s3"><span class="Apple-tab-span">	</span></span><span class="s9">Button</span><span class="s3">(w,120@20).states_([[</span>"reference = nil"<span class="s3">],[</span>"reference filled"<span class="s3">,</span><span class="s9">Color</span><span class="s3">.white],[</span>"reference random"<span class="s3">,</span><span class="s9">Color</span><span class="s3">.yellow]])</span></p>
<p class="p16"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>.action_({<span class="s9">|b|</span> b.value.booleanValue.if({</p>
<p class="p16"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(b.value&gt;1).if(</p>
<p class="p16"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>{m.reference=<span class="s9">Array</span>.fill(n, {1.0.rand})},</p>
<p class="p16"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>{m.reference=<span class="s9">Array</span>.fill(m.size, {0.5})});</p>
<p class="p18"><span class="s3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>},{ q=m.value;m.reference=[]; h.string=</span>"reference can't be returned to nil presently. please hit RESET."<span class="s3">}</span></p>
<p class="p16"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>)</p>
<p class="p16"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>});</p>
<p class="p16"><span class="Apple-tab-span">	</span><span class="s9">Button</span>(w,180@20).states_([[<span class="s11">"fillColor = Color.rand"</span>]]).action_({m.fillColor=<span class="s9">Color</span>.rand});</p>
<p class="p16"><span class="Apple-tab-span">	</span><span class="s9">Button</span>(w,180@20).states_([[<span class="s11">"strokeColor = Color.rand"</span>]]).action_({m.strokeColor=<span class="s9">Color</span>.rand});</p>
<p class="p16"><span class="Apple-tab-span">	</span><span class="s9">Button</span>(w,180@20).states_([[<span class="s11">"background = Color.rand"</span>]]).action_({m.background=<span class="s9">Color</span>.rand});</p>
<p class="p9"><span class="Apple-tab-span">	</span></p>
<p class="p16">};</p>
<p class="p16">f.value;</p>
<p class="p16">w.front;</p>
<p class="p9"><br></p>
<p class="p16">)</p>
<p class="p9"><br></p>
<p class="p9"><br></p>
<p class="p6"><b>Load a Sound file</b></p>
<p class="p3"><br></p>
<p class="p3"><br></p>
<p class="p13">(</p>
<p class="p15">// press shift to extend the selection</p>
<p class="p15">// use as waveView: scrubbing over the view returns index</p>
<p class="p15">// if showIndex(false) the view is not refreshed (faster);</p>
<p class="p15">// otherwise you can make a selection with shift - drag.</p>
<p class="p13"><span class="s9">var</span> size, file, maxval, minval;</p>
<p class="p13">size = 640;</p>
<p class="p13">a = <span class="s9">Window</span>(<span class="s11">"test"</span>, <span class="s9">Rect</span>(200 , 140, 650, 150));</p>
<p class="p13">a.view.decorator = <span class="s9">FlowLayout</span>(a.view.bounds);</p>
<p class="p13">b = <span class="s9">MultiSliderView</span>(a, <span class="s9">Rect</span>(0, 0, size, 50));</p>
<p class="p13">b.readOnly_(<span class="s9">true</span>);</p>
<p class="p13">a.view.decorator.nextLine;</p>
<p class="p3"><br></p>
<p class="p3"><br></p>
<p class="p3"><br></p>
<p class="p13">d = <span class="s9">Array</span>.new;</p>
<p class="p13">c = <span class="s9">FloatArray</span>.newClear(65493);</p>
<p class="p3"><br></p>
<p class="p13">r = <span class="s9">Slider</span>( a, <span class="s9">Rect</span>(0, 0, size, 12));</p>
<p class="p13">r.action = {<span class="s9">arg</span> ex; b.setProperty(<span class="s12">\xOffset</span>, (ex.value * 4) + 1 )};</p>
<p class="p3"><br></p>
<p class="p13">file = <span class="s9">SoundFile</span>.new;</p>
<p class="p20"><span class="s3">file.openRead(</span>"sounds/a11wlk01.wav"<span class="s3">);</span></p>
<p class="p13">file.numFrames.postln;</p>
<p class="p13">file.readData(c);</p>
<p class="p15">// file.inspect;</p>
<p class="p13">file.close;</p>
<p class="p13">minval = 0;</p>
<p class="p13">maxval = 0;</p>
<p class="p13">f = <span class="s9">Array</span>.new;</p>
<p class="p13">d = <span class="s9">Array</span>.new;</p>
<p class="p13">c.do({<span class="s9">arg</span> fi, i;</p>
<p class="p13"><span class="Apple-tab-span">	</span>if(fi &lt; minval, {minval = fi});</p>
<p class="p13"><span class="Apple-tab-span">	</span>if(fi &gt; maxval, {maxval = fi});</p>
<p class="p3"><br></p>
<p class="p15"><span class="s3"><span class="Apple-tab-span">	</span></span>//f.postln;</p>
<p class="p13"><span class="Apple-tab-span">	</span>if(i % 256 == 0,{</p>
<p class="p13"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>d = d.add((1 + maxval ) * 0.5 );</p>
<p class="p13"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>f = f.add((1 + minval ) * 0.5 );</p>
<p class="p3"><span class="Apple-tab-span">	</span></p>
<p class="p13"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>minval = 0;</p>
<p class="p13"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>maxval = 0;</p>
<p class="p13"><span class="Apple-tab-span">	</span>});</p>
<p class="p13">});</p>
<p class="p3"><br></p>
<p class="p15"><span class="s3">b.reference_(d); </span>// this is used to draw the upper part of the table</p>
<p class="p13">b.value_(f);</p>
<p class="p3"><br></p>
<p class="p13">r = <span class="s9">Slider</span>( a, <span class="s9">Rect</span>(0, 0, size, 12));</p>
<p class="p13">r.action = {<span class="s9">arg</span> ex; b.setProperty(<span class="s12">\startIndex</span>, ex.value *f.size )};</p>
<p class="p3"><br></p>
<p class="p15">// b.enabled_(false);</p>
<p class="p13">b.action = {<span class="s9">arg</span> xb; (<span class="s11">"index: "</span> ++ xb.index).postln};</p>
<p class="p13">b.drawLines_(<span class="s9">true</span>);</p>
<p class="p13">b.drawRects_(<span class="s9">false</span>);</p>
<p class="p13">b.isFilled_(<span class="s9">true</span>);</p>
<p class="p13">b.selectionSize_(10);</p>
<p class="p13">b.index_(10);</p>
<p class="p13">b.thumbSize_(1);</p>
<p class="p13">b.gap_(0);</p>
<p class="p13">b.colors_(<span class="s9">Color</span>.black, <span class="s9">Color</span>.blue(1.0,1.0));</p>
<p class="p13">b.showIndex_(<span class="s9">true</span>);</p>
<p class="p13">a.front;</p>
<p class="p3"><br></p>
<p class="p13">)</p>
<p class="p3"><br></p>
<p class="p1"><b>Use as Sequencer</b></p>
<p class="p2"><br></p>
<p class="p15">// example with sound</p>
<p class="p13">(</p>
<p class="p13"><span class="s9">var</span> size;</p>
<p class="p13">size = 12;</p>
<p class="p13">s.waitForBoot{<span class="Apple-tab-span">	</span></p>
<p class="p13"><span class="Apple-tab-span">	</span>n={<span class="s9">arg</span> freq=330; <span class="s9">SinOsc</span>.ar(freq,0,0.2)}.play;</p>
<p class="p3"><br></p>
<p class="p13"><span class="Apple-tab-span">	</span>w = <span class="s9">Window</span>(<span class="s11">"test"</span>, <span class="s9">Rect</span>(200 , 450, 10 + (size * 17), 10 + (size * 17)));</p>
<p class="p13"><span class="Apple-tab-span">	</span>w.view.decorator = <span class="s9">FlowLayout</span>(w.view.bounds);</p>
<p class="p13"><span class="Apple-tab-span">	</span>b = <span class="s9">MultiSliderView</span>(w, <span class="s9">Rect</span>(0, 0, size * 17, size * 17));</p>
<p class="p13"><span class="Apple-tab-span">	</span>b.value_( <span class="s9">Array</span>.fill(size,{<span class="s9">|i|</span> i/size}) );</p>
<p class="p13"><span class="Apple-tab-span">	</span>b.background_(<span class="s9">Color</span>.rand);</p>
<p class="p13"><span class="Apple-tab-span">	</span>b.action = {<span class="s9">arg</span> xb;</p>
<p class="p13"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>n.set(<span class="s12">\freq</span>, 330+(1100*xb.value.at(xb.index)));</p>
<p class="p13"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(<span class="s11">"index: "</span> ++ xb.index ++<span class="s11">" value: "</span> ++ xb.value.at(xb.index)).postln};</p>
<p class="p15"><span class="s3"><span class="Apple-tab-span">	</span>b.elasticMode_(1); </span>// makes the squares fit evenly</p>
<p class="p13"><span class="Apple-tab-span">	</span>b.setProperty(<span class="s12">\showIndex</span>, <span class="s9">true</span>); <span class="s10">// cursor mode</span></p>
<p class="p13"><span class="Apple-tab-span">	</span>b.readOnly=<span class="s9">true</span>;</p>
<p class="p13"><span class="Apple-tab-span">	</span>w.front;</p>
<p class="p3"><span class="Apple-tab-span">	</span></p>
<p class="p13"><span class="Apple-tab-span">	</span>r = <span class="s9">Routine</span>({</p>
<p class="p13"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>0.1.wait;</p>
<p class="p13"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>30.do({ <span class="s9">arg</span> i;</p>
<p class="p13"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>b.index_(i%size);</p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p13"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>b.doAction;</p>
<p class="p13"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>0.1.wait;</p>
<p class="p13"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>});</p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p13"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>20.do({ <span class="s9">arg</span> i;</p>
<p class="p13"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>b.index_(b.size.rand);</p>
<p class="p13"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>b.doAction;</p>
<p class="p13"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>[0.1,0.2].choose.wait;</p>
<p class="p13"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>});</p>
<p class="p13"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>1.wait;</p>
<p class="p13"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>n.free;</p>
<p class="p13"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>{w.close}.defer;</p>
<p class="p13"><span class="Apple-tab-span">	</span>});</p>
<p class="p13"><span class="Apple-tab-span">	</span><span class="s9">AppClock</span>.play(r);</p>
<p class="p13">};</p>
<p class="p13">)</p>
<p class="p13">Note: <span class="s9">this</span> forces the entire view to redraw at each step and will spend a lot of <span class="s9">CPU</span>.</p>
<p class="p3"><br></p>
<p class="p9"><br></p>
<p class="p3"><br></p>
</body>
</html>
